{"version":3,"file":"fractal.js","sources":["../src/class.js","../src/pubsub.js","../src/config.js","../src/component.js","../src/index.js"],"sourcesContent":["/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org/\n * MIT Licensed.\n */\n// Inspired by base2 and Prototype\nvar initializing = false, fnTest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\nvar Class = function(){};\nClass.extend = function(prop) {\n  var _super = this.prototype;\n  var callee = this.extend;\n\n  initializing = true;\n  var prototype = new this();\n  initializing = false;\n\n  for (var name in prop) {\n    prototype[name] = typeof prop[name] == \"function\" &&\n      typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n      (function(name, fn){\n        return function() {\n          var tmp = this._super;\n          this._super = _super[name];\n\n          var ret = fn.apply(this, arguments);\n          this._super = tmp;\n\n          return ret;\n        };\n      })(name, prop[name]) :\n    prop[name];\n  }\n\n  var Class = function(){\n    if ( !initializing && this.init )\n      this.init.apply(this, arguments);\n  }\n\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n\n  Class.extend = this.extend;\n  return Class;\n};\n\nexport default Class\n","let topics = {}, seq = 0;\n\nexport default {\n  publish: function(topic, data, publisher) {\n    console.debug(\"publish\", topic);\n    let subscribers = topics[topic];\n    for (let i in subscribers)\n      subscribers[i].cb(topic, data, publisher);\n  },\n  subscribe: function(topic, cb, subscriber) {\n    console.debug(\"subscribe\", topic);\n    if (!topics[topic])\n      topics[topic] = [];\n    let token = ++seq;\n    topics[topic].push({\n      token: token,\n      subscriber: subscriber,\n      cb: cb\n    });\n    return token;\n  },\n  unsubscribe: function(topic, token) {\n    console.debug(\"unsubscribe\", topic);\n    if (!(topic in topics))\n      return;\n    let subscribers = topics[topic];\n    for (let i in subscribers) {\n      if (subscribers[i].token === token) {\n        subscribers.splice(i, 1);\n        break;\n      }\n    }\n    if (subscribers.length === 0)\n      delete topics[topic];\n  },\n  getSubscribers: function(topic) {\n    if (!(topic in topics))\n      return [];\n    return topics[topic].map(v => { return v.subscriber; });\n  },\n};\n","import Pubsub from './pubsub'\n\nfunction noImpl(name) {\n  return function(){\n    throw new Error('To be defined: ' + name);\n  };\n}\n\nexport default {\n  compile: false,\n  render: noImpl('render'),\n  dynamicRequire: {\n    component: noImpl('dynamicRequire.component'),\n    template: noImpl('dynamicRequire.template'),\n  },\n  Pubsub: Pubsub,\n}\n","import Class from './class'\nimport Config from './config'\n\nconst COMPONENT_ATTR = 'f-component'\nconst RENDERED_ATTR = 'f-rendered'\nlet knownComponents = {}\n\nfunction hasClass(el, className) {\n  if (el.classList)\n    el.classList.contains(className);\n  else\n    new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n}\n\nfunction addClass(el, className) {\n  if (el.classList)\n    el.classList.add(className);\n  else\n    el.className += ' ' + className;\n}\n\nexport const Component = Class.extend({\n  init: function(name, el, parent) {\n    this.name = name;\n    this.el = el;\n    this.complete = false;\n    this.subTokens = {};\n    if (this.name && !this.template)\n      this.template = getTemplate(this.templateName || this.name);\n    this.parent = parent;\n    this.children = [];\n  },\n  getData: function(cb, param) {\n    cb(this.data || {});\n  },\n  render: function(data, template, param) {\n    this.el.innerHTML = Config.render(template, data);\n    this.children.forEach(c => {\n      c.destroyed(param);\n    });\n    this.children = [];\n  },\n  rendered: function(param){},\n  loadChildren: function(cb, param) {\n    let els = this.el.querySelectorAll('[' + COMPONENT_ATTR + ']');\n    if (!els || !els.length)\n      return cb();\n    let len = els.length;\n\n    let nbComplete = 0;\n    Array.prototype.forEach.call(els, (el, i) => {\n      let name = el.getAttribute(COMPONENT_ATTR);\n      console.debug(\"found component:\", name);\n      let Class = getComponent(name);\n      let c = new Class(name, el, this);\n      this.children.push(c);\n      c.load(param, () => {\n        if (++nbComplete === len)\n          cb();\n      });\n    });\n  },\n  loaded: function(param){},\n  destroyed: function(param){\n    this.children.forEach(c => {\n      c.destroyed(param);\n    });\n    this.children = [];\n    console.debug(this.name, \"destroyed\");\n    for (let topic in this.subTokens)\n      Config.Pubsub.unsubscribe(this.subTokens[topic]);\n  },\n  // main entry\n  load: function(param, cb) {\n    param = param || {};\n    console.time('Component.' + this.name);\n    this.complete = false;\n    this.getData(data => {\n      this.render(data, this.template, param);\n      this.rendered(param);\n      this.loadChildren(() => {\n        this.complete = true;\n        console.timeEnd('Component.' + this.name);\n        this.loaded(param);\n        if (!hasClass(this.el, RENDERED_ATTR))\n          addClass(this.el, RENDERED_ATTR);\n      }, param)\n    }, param)\n  },\n  // pubsub\n  publish: function(topic, data) {\n    Config.Pubsub.publish(topic, data, this);\n  },\n  subscribe: function(topic, cb) {\n    this.subTokens[topic] = Config.Pubsub.subscribe(topic, cb, this);\n  },\n});\n\nexport function build(param, cb){\n  let c = new Component('', window.document, null);\n  c.loadChildren(() => {\n    if (cb)\n      cb();\n  }, param || {});\n}\n\nfunction getTemplate(name) {\n  let template = Config.dynamicRequire.template(\"./\" + name + \".html\");\n  if (template) {\n    if (Config.compile)\n      template = Config.compile(template);\n    return template;\n  }\n  console.error(\"Template not found: \" + name);\n  return \"\";\n}\n\nfunction getComponent(name) {\n  if (name in knownComponents)\n    return knownComponents[name];\n  let Class = Config.dynamicRequire.component(\"./\" + name);\n  if (Class) {\n    knownComponents[name] = Class;\n    return Class;\n  }\n  console.error(\"Component not found: \" + name);\n  return Component;\n}\n\nexport function defineComponent(name, props, base) {\n  let c = (base || Component).extend(props || {});\n  if (name)\n    knownComponents[name] = c;\n  return c;\n}\n\n","import {defineComponent, build} from './component'\nimport Config from './config'\n\nexport default {\n  init: function(templateEngine, dynamicRequire, pubsub) {\n    // template engine\n    if (templateEngine) {\n      if (templateEngine.compile)\n        Config.compile = templateEngine.compile;\n      Config.render = templateEngine.render;\n    }\n    // dynamic require\n    if (dynamicRequire) {\n      ['component', 'template'].forEach(v => {\n        if (v in dynamicRequire)\n          Config.dynamicRequire[v] = dynamicRequire[v];\n      });\n    }\n    // pubsub\n    if (pubsub) {\n      ['publish', 'subscribe', 'unsubscribe'].forEach(v => {\n        if (v in pubsub)\n          Config.Pubsub[v] = pubsub[v];\n      });\n    }\n  },\n  build: build,\n  Pubsub: Config.Pubsub,\n  component: defineComponent,\n}\n\n"],"names":[],"mappings":"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"}