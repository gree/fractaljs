{"version":3,"file":"fractal-router.js","sources":["../src/router.js"],"sourcesContent":["const _RE = /^#([0-9a-zA-Z_\\-\\/\\.]+)/;\nlet getComponentName = function(hash) {\n  let match = _RE.exec(hash);\n  return (match && match[1]) || \"\";\n};\n\nexport default F.component(null, {\n  template: '{{#name}}<div f-component=\"{{name}}\" />{{/name}}' +\n    '{{^name}}`DefaultComponent` is not defined{{/name}}',\n  current: getComponentName(location.hash),\n  init: function(name, el, parent) {\n    this._super(name, el, parent);\n    this.subscribe(\"onpopstate\", (topic, hash) => {\n      let component = getComponentName(hash);\n      if (this.current != component) {\n        this.current = component;\n        this.load();\n      }\n    });\n  },\n  getData: function(cb, param) {\n    cb({\n      name: this.current || this.DefaultComponent\n    });\n  },\n});\n\nwindow.onpopstate = function(){\n  F.Pubsub.publish(\"onpopstate\", location.hash);\n};\n\n"],"names":[],"mappings":";;;;;;EAAA,IAAM,MAAM,yBAAZ;AACA,EAAA,IAAI,mBAAmB,SAAnB,gBAAmB,CAAS,IAAT,EAAe;AACpC,EAAA,MAAI,QAAQ,IAAI,IAAJ,CAAS,IAAT,CAAZ;AACA,EAAA,SAAQ,SAAS,MAAM,CAAN,CAAV,IAAuB,EAA9B;AACD,EAAA,CAHD;;AAKA,eAAe,EAAE,SAAF,CAAY,IAAZ,EAAkB;AAC/B,EAAA,YAAU,qDACR,qDAF6B;AAG/B,EAAA,WAAS,iBAAiB,SAAS,IAA1B,CAHsB;AAI/B,EAAA,QAAM,cAAS,IAAT,EAAe,EAAf,EAAmB,MAAnB,EAA2B;AAAA,EAAA;;AAC/B,EAAA,SAAK,MAAL,CAAY,IAAZ,EAAkB,EAAlB,EAAsB,MAAtB;AACA,EAAA,SAAK,SAAL,CAAe,YAAf,EAA6B,UAAC,KAAD,EAAQ,IAAR,EAAiB;AAC5C,EAAA,UAAI,YAAY,iBAAiB,IAAjB,CAAhB;AACA,EAAA,UAAI,MAAK,OAAL,IAAgB,SAApB,EAA+B;AAC7B,EAAA,cAAK,OAAL,GAAe,SAAf;AACA,EAAA,cAAK,IAAL;AACD,EAAA;AACF,EAAA,KAND;AAOD,EAAA,GAb8B;AAc/B,EAAA,WAAS,iBAAS,EAAT,EAAa,KAAb,EAAoB;AAC3B,EAAA,OAAG;AACD,EAAA,YAAM,KAAK,OAAL,IAAgB,KAAK;AAD1B,EAAA,KAAH;AAGD,EAAA;AAlB8B,EAAA,CAAlB,CAAf;;AAqBA,EAAA,OAAO,UAAP,GAAoB,YAAU;AAC5B,EAAA,IAAE,MAAF,CAAS,OAAT,CAAiB,YAAjB,EAA+B,SAAS,IAAxC;AACD,EAAA,CAFD;;;;"}