{"version":3,"file":"fractal.min.js","sources":["fractal.js"],"names":["global","COMPONENT_ATTR","setImmediate","handleMessage","event","source","window","data","messageName","stopPropagation","timeouts","length","fn","shift","Date","getTime","addEventListener","push","postMessage","forEachAsync","items","done","count","left","createAsyncOnce","listeners","key","cb","f","q","Pubsub","topics","seq","publish","topic","from","subscribers","i","subscribe","token","unsubscribe","splice","require","cache","asyncOnce","_methods","js","url","el","document","createElement","src","onload","onreadystatechange","state","this","readyState","getElementsByTagName","appendChild","css","rel","href","ajax","xhr","XMLHttpRequest","open","status","res","responseText","send","getMethod","name","split","pop","main","err","console","error","Component","Class","initializing","fnTest","test","xyz","extend","prop","_super","prototype","tmp","ret","apply","arguments","init","constructor","callee","idSeq","_noImpl","$container","self","id","$","find","bind","rendered","subscribeList","buffered","templateName","resetDisplay","on","unload","template","compile","load","param","getData","partials","getTemplate","render","afterRender","myselfLoaded","loadChildren","allLoaded","timeEnd","contents","html","els","len","container","componentClassName","attr","requireComponent","component","list","currentInstance","location","protocol","TMPL_EXT","defaults","prefixComponent","prefixTemplate","requireList","domParser","templateEngine","text","Hogan","options","Fractal","sourceRoot","pathname","slice","join","_classes","concat","special","destroyed","remove","o","handler","build","$root","c","resolve","indexOf","names","Array","isArray","urls","map","v","ext","$tmpl","defineComponent","object","base","_queue","wip","next","runArray","task","active","F","ComponentBase","createInstance"],"mappings":"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"}