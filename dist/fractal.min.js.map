{"version":3,"file":"fractal.min.js","sources":["fractal.js"],"names":["global","setImmediate","handleMessage","event","source","window","data","messageName","stopPropagation","timeouts","length","fn","shift","Date","getTime","addEventListener","push","postMessage","forEachAsync","items","done","count","left","createAsyncOnce","listeners","key","callback","f","q","createClass","type","initializing","fnTest","test","xyz","Class","extend","prop","_super","this","prototype","name","tmp","ret","apply","arguments","init","constructor","callee","getType","ClassType","COMPONENT","ENV","Pubsub","MaxStocked","Stock","arrived","buffer","proto","i","add","topic","self","oldest","Data","oldestTopic","get","topics","seq","stock","publish","from","d","subscribers","cb","subscribe","token","unsubscribe","splice","require","cache","asyncOnce","_methods","js","url","el","document","createElement","src","onload","onreadystatechange","state","readyState","getElementsByTagName","appendChild","css","rel","href","ajax","xhr","XMLHttpRequest","open","status","res","responseText","send","getMethod","split","pop","main","err","console","error","location","protocol","COMPONENT_ATTR","__noImpl","idSeq","Env","prefixComponent","prefixTemplate","requireList","domParser","templateEngine","compile","text","Hogan","render","template","options","sourceRoot","slice","join","pathname","resolveUrl","indexOf","setup","unshift","$","special","destroyed","remove","o","handler","names","Array","isArray","urls","map","v","getTemplate","tmplExt","ext","$tmpl","html","requireComponent","c","getComponentByName","Component","$container","env","id","find","bind","rendered","subscribeList","buffered","templateName","resetDisplay","on","unload","load","param","getData","partials","afterRender","myselfLoaded","loadChildren","allLoaded","timeEnd","contents","els","len","container","componentClassName","attr","component","list","ready","initCbq","components","TOPIC_ENV_CHANGED","namespace","F","ComponentBase","object","base","envDescriptorUrl"],"mappings":"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"}